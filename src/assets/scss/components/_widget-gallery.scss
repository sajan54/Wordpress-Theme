.widget_media_gallery.home,
.widget_media_gallery.sidebar,
.widget_media_gallery.footer {
  .gallery {
    display: flex;
    position: relative;
    flex-wrap: wrap;

    .gallery-item {
      width: 33%;
      padding: 3px;
      overflow: hidden;

      .gallery-icon {
        transition: transform 500ms;
        position: relative;
        a {
          display: inline-block;

          img {
            object-fit: cover;
            width: 100%;
            height: 100px;
            object-position: center;
          }

          &::before,
          &::after {
            position: absolute;
            left: 10px;
            right: 10px;
            top: 10px;
            bottom: 10px;
            content: "";
            opacity: 0;
            transition: opacity 500ms, transform 500ms;
          }

          &::before {
            border-top: 1px solid #fff;
            border-bottom: 1px solid #fff;
            transform: scale(0, 1);
          }

          &::after {
            border-right: 1px solid #fff;
            border-left: 1px solid #fff;
            transform: scale(1, 0);
          }
        }

        &:hover {
          a {
            &::before,
            &::after {
              opacity: 1;
              transform: scale(1);
            }
          }
        }
      }
    }
  }
}

.widget_media_gallery.sidebar,
.widget_media_gallery.footer {
  .gallery {
    .gallery-item {
      @media (min-width: 481px) {
        width: 50%;
      }
      @media (min-width: 768px) {
        width: 33%;
      }
      .gallery-icon {
        a {
          img {
            @media (min-width: 481px) {
              height: 200px;
            }
            @media (min-width: 1024px) {
              height: 80px;
            }
          }
        }
      }
    }
  }
}

.widget_media_gallery.home {
  .gallery {
    .gallery-item {
      @media (min-width: 481px) {
        width: 50%;
      }
      @media (min-width: 768px) {
        width: 33%;
      }
      .gallery-icon {
        a {
          img {
            @media (min-width: 481px) {
              height: 200px;
            }
            @media (min-width: 1200px) {
              height: 280px;
            }
          }
        }
      }
    }
  }
}
